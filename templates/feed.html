{% extends 'base.html' %}

{% block content %}
<div class="feed-page">
    <header class="header-row">
        <div>
            <h1>EverFeed</h1>
            <p class="u-text-muted">Tiny, context-tagged links to revisit when the moment fits.</p>
        </div>
        <button class="btn btn-primary header-add-circle" type="button" id="feed-add-btn" aria-label="Add item" title="Add item">
            <i class="fa-solid fa-plus"></i>
        </button>
    </header>

    <div class="feed-add-form" id="feed-add-form">
        <label class="module-search-label" for="feed-add-input">Quick add item</label>
        <div class="feed-add-row">
            <input type="text" id="feed-add-input" class="feed-add-input" placeholder="Title; https://example.com; optional note">
        </div>
        <div class="feed-add-hint">Format: Title; URL; optional short description</div>
        <div class="feed-state-row">
            <div class="feed-state-chips" id="feed-state-chips"></div>
            <div class="feed-state-add" id="feed-state-add">
                <input type="text" class="feed-state-input" id="feed-state-input" placeholder="State">
                <button class="feed-state-confirm" type="button" id="feed-state-confirm" aria-label="Add state">
                    <i class="fa-solid fa-check"></i>
                </button>
                <button class="feed-state-cancel" type="button" id="feed-state-cancel" aria-label="Cancel">
                    <i class="fa-solid fa-xmark"></i>
                </button>
            </div>
        </div>
    </div>

    <div class="feed-toolbar">
        <div class="feed-filter-dropdown" id="feed-filter-dropdown">
            <div class="feed-filter-selected" id="feed-filter-selected">
                <span>All</span>
                <i class="fa-solid fa-chevron-down"></i>
            </div>
            <div class="feed-filter-menu" id="feed-filter-menu"></div>
        </div>
    </div>

    <div class="feed-grid" id="feed-grid"></div>
</div>

<div class="modal" id="feed-date-modal" role="dialog" aria-modal="true" aria-labelledby="feed-date-title">
    <div class="modal-content" tabindex="-1">
        <h2 id="feed-date-title">Item Date</h2>
        <p id="feed-date-subtitle" class="u-muted-modal-msg">Set when to revisit this link.</p>
        <div class="form-group">
            <label for="feed-date-input">Date</label>
            <input type="date" id="feed-date-input" class="form-control">
        </div>
        <div class="modal-actions">
            <button class="btn btn-secondary" type="button" id="feed-date-clear-btn">Clear</button>
            <button class="btn" type="button" id="feed-date-cancel-btn">Cancel</button>
            <button class="btn btn-primary" type="button" id="feed-date-save-btn">Save</button>
        </div>
    </div>
</div>
{% endblock %}

{% block page_scripts %}
<script src="{{ url_for('static', filename='pages/feed-page.js') }}" defer></script>
{% endblock %}





