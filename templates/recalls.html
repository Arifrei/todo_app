{% extends 'base.html' %}

{% block content %}
<div class="recalls-layout">
    <header class="recalls-header">
        <div class="recalls-header-top">
            <div>
                <h1>Recalls</h1>
                <p class="recalls-subtitle">Context-based memory triggers to resurface at the right time.</p>
            </div>
            <button type="button" class="recall-add-btn" id="recall-add-btn">
                <i class="fa-solid fa-plus"></i> Add
            </button>
        </div>

        <!-- Collapsible add form -->
        <div class="recall-add-form" id="recall-add-form">
            <input type="text" id="recall-add-input" class="recall-add-input" placeholder="Title; URL or text...">
            <div class="recall-add-hint">Format: My title; https://example.com</div>
            <div class="recall-when-chips" id="recall-when-chips"></div>
        </div>
    </header>

    <div class="recall-filter-bar">
        <div class="recall-filter-dropdown" id="recall-filter-dropdown">
            <button type="button" class="recall-filter-btn" id="recall-filter-btn">
                <span id="recall-filter-label">All</span>
                <i class="fa-solid fa-chevron-down"></i>
            </button>
            <div class="recall-filter-menu" id="recall-filter-menu"></div>
        </div>
    </div>

    <div class="recall-cards" id="recall-cards"></div>
</div>

<!-- Recall Detail Modal -->
<div class="recall-modal-overlay" id="recall-modal-overlay">
    <div class="recall-modal">
        <div class="recall-modal-header">
            <h2 id="recall-modal-title-text">Recall</h2>
            <button class="recall-modal-close" onclick="closeRecallModal()">&times;</button>
        </div>
        <div class="recall-modal-body" id="recall-modal-body">
            <!-- Content populated by JS -->
        </div>
    </div>
</div>
{% endblock %}
