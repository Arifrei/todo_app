{% extends 'base.html' %}

{% block content %}
<div class="quick-access-page">
    <header class="header-row">
        <div>
            <h1>Quick Access</h1>
            <p class="u-text-muted">Your frequently accessed items</p>
        </div>
        <button class="btn btn-primary header-add-circle" id="qa-add-btn" type="button" aria-label="Add quick access item" title="Add quick access item">
            <i class="fa-solid fa-plus"></i>
        </button>
    </header>

    <div class="quick-access-grid" id="quick-access-grid">
        <!-- Today button (system item, always first) -->
        <a class="quick-access-card system-item" href="#" id="qa-system-today" data-type="system">
            <div class="quick-access-icon"><i class="fa-solid fa-calendar-day"></i></div>
            <div class="quick-access-title">Today</div>
            <div class="quick-access-subtitle">Jump to today's calendar</div>
        </a>
        <!-- Tomorrow button (system item) -->
        <a class="quick-access-card system-item" href="#" id="qa-system-tomorrow" data-type="system">
            <div class="quick-access-icon"><i class="fa-solid fa-calendar-plus"></i></div>
            <div class="quick-access-title">Tomorrow</div>
            <div class="quick-access-subtitle">Jump to tomorrow's calendar</div>
        </a>

        <!-- User's custom items will be loaded here -->
    </div>
</div>

<button id="quick-access-done-btn" class="btn btn-primary floating-done-btn">
    Done
</button>

<!-- Add Quick Access Item Modal -->
<div class="modal" id="add-quick-access-modal">
    <div class="modal-content">
        <h2 id="qa-modal-title">Add Quick Access Item</h2>
        <div class="form-group">
            <label>Title</label>
            <input type="text" id="qa-title" class="form-control" placeholder="Enter title...">
        </div>
        <div class="form-group">
            <label id="qa-icon-picker-label">Icon</label>
            <div class="qa-icon-dropdown" id="qa-icon-dropdown">
                <button
                    type="button"
                    id="qa-icon-dropdown-btn"
                    class="qa-icon-dropdown-btn"
                    aria-haspopup="listbox"
                    aria-expanded="false"
                    aria-controls="qa-icon-grid"
                    aria-labelledby="qa-icon-picker-label">
                    <i id="qa-icon-dropdown-selected" class="fa-solid fa-bookmark" aria-hidden="true"></i>
                    <i class="fa-solid fa-chevron-down qa-icon-dropdown-caret" aria-hidden="true"></i>
                </button>
                <div id="qa-icon-grid" class="qa-icon-grid u-hidden" role="listbox" aria-label="Icon choices"></div>
            </div>
            <div class="qa-icon-preview" id="qa-icon-preview" aria-live="polite">
                <span id="qa-icon-preview-text">Selected: Bookmark</span>
            </div>
            <label for="qa-icon" class="qa-icon-custom-label">Custom icon class (optional)</label>
            <input type="text" id="qa-icon" class="form-control" placeholder="fa-solid fa-bookmark" value="fa-solid fa-bookmark">
            <small class="u-text-muted">Need a different icon? Use any Font Awesome class from <a href="https://fontawesome.com/icons" target="_blank" rel="noopener noreferrer">fontawesome.com/icons</a></small>
        </div>
        <div class="form-group">
            <label>Type</label>
            <select id="qa-type" class="form-control">
                <option value="custom">Custom URL</option>
                <option value="list">Project/List</option>
                <option value="note">Note</option>
                <option value="folder">Note Folder</option>
                <option value="calendar">Calendar Date</option>
            </select>
        </div>
        <div class="form-group" id="qa-url-group">
            <label>URL</label>
            <input type="text" id="qa-url" class="form-control" placeholder="/tasks or https://example.com">
        </div>
        <div class="form-group u-hidden" id="qa-list-group">
            <label>Select Project/List</label>
            <div class="qa-nav-header">
                <button class="btn btn-secondary btn-small u-hidden" id="qa-back-button" type="button">
                    <i class="fa-solid fa-arrow-left"></i> Back
                </button>
            </div>
            <div id="qa-list-nav-container" class="qa-nav-container">
                <!-- Navigation options populated by JS -->
            </div>
        </div>
        <div class="form-group u-hidden" id="qa-note-group">
            <label>Select Note</label>
            <div class="qa-nav-header">
                <button class="btn btn-secondary btn-small u-hidden" id="qa-note-back-button" type="button">
                    <i class="fa-solid fa-arrow-left"></i> Back
                </button>
            </div>
            <div id="qa-note-nav-container" class="qa-nav-container">
                <!-- Note navigation options populated by JS -->
            </div>
        </div>
        <div class="form-group u-hidden" id="qa-folder-group">
            <label>Select Folder</label>
            <div class="qa-nav-header">
                <button class="btn btn-secondary btn-small u-hidden" id="qa-folder-back-button" type="button">
                    <i class="fa-solid fa-arrow-left"></i> Back
                </button>
            </div>
            <div id="qa-folder-nav-container" class="qa-nav-container">
                <!-- Folder navigation options populated by JS -->
            </div>
        </div>
        <div class="form-group u-hidden" id="qa-date-group">
            <label>Select Date</label>
            <input type="date" id="qa-date" class="form-control">
        </div>
        <div class="modal-actions">
            <button class="btn" id="qa-cancel-btn" type="button">Cancel</button>
            <button class="btn btn-primary" id="qa-save-btn" type="button">Add</button>
        </div>
    </div>
</div>

{% endblock %}

{% block page_scripts %}
<script src="{{ url_for('static', filename='pages/quick-access-page.js') }}" defer></script>
{% endblock %}





